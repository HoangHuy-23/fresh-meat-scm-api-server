# server/connection-profile.yaml
name: "fresh-meat-network"
version: "1.0.0"

# Client section remains the same, it's case-insensitive here
client:
  organization: MeatSupplyOrg

organizations:
  # === SỬA LỖI: Đổi key thành chữ thường ===
  meatsupplyorg:
    mspid: MeatSupplyOrgMSP
    cryptoPath: /home/hhexe/fresh-meat-scm-hyperledger-fabric/network/crypto-config/peerOrganizations/meatsupply.example.com/msp
    peers:
      - peer0.meatsupply.example.com
    certificateAuthorities:
      - ca.meatsupply.example.com

  # === SỬA LỖI: Đổi key thành chữ thường ===
  regulatororg:
    mspid: RegulatorOrgMSP
    cryptoPath: /home/hhexe/fresh-meat-scm-hyperledger-fabric/network/crypto-config/peerOrganizations/regulator.example.com/msp
    peers:
      - peer0.regulator.example.com

peers:
  peer0.meatsupply.example.com:
    url: grpcs://localhost:7051
    tlsCACerts:
      path: /home/hhexe/fresh-meat-scm-hyperledger-fabric/network/crypto-config/peerOrganizations/meatsupply.example.com/peers/peer0.meatsupply.example.com/tls/ca.crt
    grpcOptions:
      ssl-target-name-override: peer0.meatsupply.example.com

  peer0.regulator.example.com:
    url: grpcs://localhost:9051
    tlsCACerts:
      path: /home/hhexe/fresh-meat-scm-hyperledger-fabric/network/crypto-config/peerOrganizations/regulator.example.com/peers/peer0.regulator.example.com/tls/ca.crt
    grpcOptions:
      ssl-target-name-override: peer0.regulator.example.com

certificateAuthorities:
  ca.meatsupply.example.com:
    url: https://localhost:7054
    caName: ca.meatsupply.example.com
    tlsCACerts:
      path: /home/hhexe/fresh-meat-scm-hyperledger-fabric/network/crypto-config/fabric-ca/meatsupply/ca-cert.pem
    httpOptions:
      verify: false